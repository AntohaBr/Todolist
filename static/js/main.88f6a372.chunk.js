(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{109:function(e,t,a){e.exports=a(139)},114:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"selectIsLoggedIn",(function(){return N}));var n=a(0),s=a.n(n),o=a(10),i=a.n(o);a(114),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,u,l=a(50),d=a(14),p=a(25),f=a(17),m=function(e){return e.app.status},b=function(e){return e.app.isInitialized},v=a(7),h=a.n(v),j=a(15),k=a(92),E=a.n(k).a.create(Object(f.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"f1636098-c65e-4218-94e5-e10509868ae3"}})),g=function(){return E.get("todo-lists")},O=function(e){return E.post("todo-lists",{title:e})},y=function(e){return E.delete("todo-lists/".concat(e))},w=function(e,t){return E.put("todo-lists/".concat(e),{title:t})},x=function(e){return E.get("todo-lists/".concat(e,"/tasks"))},C=function(e,t){return E.delete("todo-lists/".concat(e,"/tasks/").concat(t))},I=function(e,t){return E.post("todo-lists/".concat(e,"/tasks"),{title:t})},A=function(e,t,a){return E.put("todo-lists/".concat(e,"/tasks/").concat(t),a)},T=function(e){return E.post("auth/login",e)},S=function(){return E.delete("auth/login")},L=function(){return E.get("auth/me")},N=function(e){return e.auth.isLoggedIn},z=a(195),D=a(182),P=a(85),F=a.n(P),W=a(87),M=a.n(W),R=a(183),V=a(140),q=a(184),B=a(198),H=a(185),U=a(186),J=a(187),K=a(193),X=a(188),Y=a(189),$=a(190),_=a(191),G=a(192),Q=a(141),Z=a(88),ee=a.n(Z),te=a(96),ae=a(24),re=a(8),ne=a(21),se=ne.a.setAppStatus,oe=Object(d.c)("auth/login",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(se({status:"loading"})),e.prev=1,e.next=4,T(t);case 4:if(0!==(r=e.sent).data.resultCode){e.next=10;break}return a.dispatch(se({status:"succeeded"})),e.abrupt("return");case 10:return e.abrupt("return",Object(re.handleAsyncServerAppError)(r.data,a));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),ie=Object(d.c)("auth/logout",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(se({status:"loading"})),e.prev=1,e.next=4,S();case 4:if(0!==(r=e.sent).data.resultCode){e.next=10;break}return a.dispatch(se({status:"succeeded"})),e.abrupt("return");case 10:return e.abrupt("return",Object(re.handleAsyncServerAppError)(r.data,a));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),ce={login:oe,logout:ie},ue=Object(d.d)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(e,t){e.isLoggedIn=t.payload.value}},extraReducers:function(e){e.addCase(oe.fulfilled,(function(e){e.isLoggedIn=!0})).addCase(ie.fulfilled,(function(e){e.isLoggedIn=!1}))}}),le=(ue.reducer,ue.actions.setIsLoggedIn,a(18)),de=function(){var e=Object(re.useAppDispatch)(),t=Object(ae.c)(N),a=Object(te.a)({validate:function(e){return e.email?e.password?void 0:{password:"Password is required"}:{email:"Email is required"}},initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(){var t=Object(j.a)(h.a.mark((function t(a,r){var n,s,o,i,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(pe.login(a));case 2:n=t.sent,oe.rejected.match(n)&&(null===(s=n.payload)||void 0===s||null===(o=s.fieldsErrors)||void 0===o?void 0:o.length)&&(c=null===(i=n.payload)||void 0===i?void 0:i.fieldsErrors[0],r.setFieldError(c.field,c.error));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()});return t?s.a.createElement(le.a,{to:"/"}):s.a.createElement(q.a,{container:!0,justify:"center"},s.a.createElement(q.a,{item:!0,xs:4},s.a.createElement("form",{onSubmit:a.handleSubmit},s.a.createElement(B.a,null,s.a.createElement(J.a,null,s.a.createElement("p",null,"To log in get registered ",s.a.createElement("a",{href:"https://social-network.samuraijs.com/",target:"_blank"},"here")),s.a.createElement("p",null,"or use common test account credentials:"),s.a.createElement("p",null," Email: free@samuraijs.com"),s.a.createElement("p",null,"Password: free")),s.a.createElement(U.a,null,s.a.createElement(K.a,Object.assign({label:"Email",margin:"normal"},a.getFieldProps("email"))),a.errors.email?s.a.createElement("div",null,a.errors.email):null,s.a.createElement(K.a,Object.assign({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),a.errors.password?s.a.createElement("div",null,a.errors.password):null,s.a.createElement(H.a,{label:"Remember me",control:s.a.createElement(z.a,Object.assign({},a.getFieldProps("rememberMe"),{checked:a.values.rememberMe}))}),s.a.createElement(R.a,{type:"submit",variant:"contained",color:"primary"},"Login"))))))},pe=Object(f.a)(Object(f.a)({},ce),ue.actions),fe=ue.reducer,me=Object(d.c)("application/initializeApp",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.next=3,L();case 3:0===e.sent.data.resultCode&&r(pe.setIsLoggedIn({value:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),be={initializeApp:me},ve=Object(d.d)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{},extraReducers:function(e){e.addCase(me.fulfilled,(function(e,t){e.isInitialized=!0})).addCase(ne.a.setAppStatus,(function(e,t){e.status=t.payload.status})).addCase(ne.a.setAppError,(function(e,t){e.error=t.payload.error}))}}),he=ve.reducer,je=ve.actions,ke=Object(f.a)(Object(f.a)({},je),be),Ee=ne.a.setAppStatus,ge=Object(d.c)("todolists/fetchTodolists",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Ee({status:"loading"})),e.prev=1,e.next=4,g();case 4:return r=e.sent,a.dispatch(Ee({status:"succeeded"})),e.abrupt("return",{todolists:r.data});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Oe=Object(d.c)("todolists/removeTodolist",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,a.rejectWithValue,r(Ee({status:"loading"})),r(Ae({id:t,status:"loading"})),e.next=5,y(t);case 5:return e.sent,r(Ee({status:"succeeded"})),e.abrupt("return",{id:t});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ye=Object(d.c)("todolists/addTodolist",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Ee({status:"loading"})),e.prev=1,e.next=4,O(t);case 4:if(0!==(r=e.sent).data.resultCode){e.next=10;break}return a.dispatch(Ee({status:"succeeded"})),e.abrupt("return",{todolist:r.data.data.item});case 10:return e.abrupt("return",Object(re.handleAsyncServerAppError)(r.data,a,!1));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a,!1));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),we=Object(d.c)("todolists/changeTodolistTitle",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t.id,t.title);case 3:if(0!==(r=e.sent).data.resultCode){e.next=9;break}return a.dispatch(Ee({status:"succeeded"})),e.abrupt("return",{id:t.id,title:t.title});case 9:return e.abrupt("return",Object(re.handleAsyncServerAppError)(r.data,a));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a,!1));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()),xe={fetchTodolistsTC:ge,removeTodolistTC:Oe,addTodolistTC:ye,changeTodolistTitleTC:we},Ce=Object(d.d)({name:"todolists",initialState:[],reducers:{changeTodolistFilter:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].filter=t.payload.filter},changeTodolistEntityStatus:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].entityStatus=t.payload.status}},extraReducers:function(e){e.addCase(ge.fulfilled,(function(e,t){return t.payload.todolists.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{filter:"all",entityStatus:"idle"})}))})).addCase(Oe.fulfilled,(function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));a>-1&&e.splice(a,1)})).addCase(ye.fulfilled,(function(e,t){e.unshift(Object(f.a)(Object(f.a)({},t.payload.todolist),{},{filter:"all",entityStatus:"idle"}))})).addCase(we.fulfilled,(function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].title=t.payload.title}))}}),Ie=Ce.actions,Ae=(Ie.changeTodolistFilter,Ie.changeTodolistEntityStatus),Te=Object(d.c)("tasks/fetchTasks",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(ne.a.setAppStatus({status:"loading"})),e.prev=1,e.next=4,x(t);case 4:return r=e.sent,n=r.data.items,a.dispatch(ne.a.setAppStatus({status:"succeeded"})),e.abrupt("return",{tasks:n,todolistId:t});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),Se=Object(d.c)("tasks/removeTask",function(){var e=Object(j.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.todolistId,t.taskId);case 2:return e.sent,e.abrupt("return",{taskId:t.taskId,todolistId:t.todolistId});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Le=Object(d.c)("tasks/addTask",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(ne.a.setAppStatus({status:"loading"})),e.prev=1,e.next=4,I(t.todolistId,t.title);case 4:if(0!==(r=e.sent).data.resultCode){e.next=10;break}return a.dispatch(ne.a.setAppStatus({status:"succeeded"})),e.abrupt("return",r.data.data.item);case 10:return Object(re.handleAsyncServerAppError)(r.data,a,!1),e.abrupt("return",a.rejectWithValue({errors:r.data.messages,fieldsErrors:r.data.fieldsErrors}));case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a,!1));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()),Ne=Object(d.c)("tasks/updateTask",function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r,n,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState(),n=r.tasks[t.todolistId].find((function(e){return e.id===t.taskId}))){e.next=4;break}return e.abrupt("return",a.rejectWithValue("task not found in the state"));case 4:return s=Object(f.a)({deadline:n.deadline,description:n.description,priority:n.priority,startDate:n.startDate,title:n.title,status:n.status},t.model),e.next=7,A(t.todolistId,t.taskId,s);case 7:if(o=e.sent,e.prev=8,0!==o.data.resultCode){e.next=13;break}return e.abrupt("return",t);case 13:return e.abrupt("return",Object(re.handleAsyncServerAppError)(o.data,a));case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(8),e.abrupt("return",Object(re.handleAsyncServerNetworkError)(e.t0,a));case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t,a){return e.apply(this,arguments)}}()),ze={fetchTasks:Te,removeTask:Se,addTask:Le,updateTask:Ne},De=Object(d.d)({name:"tasks",initialState:{},reducers:{},extraReducers:function(e){e.addCase(xe.addTodolistTC.fulfilled,(function(e,t){e[t.payload.todolist.id]=[]})).addCase(xe.removeTodolistTC.fulfilled,(function(e,t){delete e[t.payload.id]})).addCase(xe.fetchTodolistsTC.fulfilled,(function(e,t){t.payload.todolists.forEach((function(t){e[t.id]=[]}))})).addCase(Te.fulfilled,(function(e,t){e[t.payload.todolistId]=t.payload.tasks})).addCase(Se.fulfilled,(function(e,t){var a=e[t.payload.todolistId],r=a.findIndex((function(e){return e.id===t.payload.taskId}));r>-1&&a.splice(r,1)})).addCase(Le.fulfilled,(function(e,t){e[t.payload.todoListId].unshift(t.payload)})).addCase(Ne.fulfilled,(function(e,t){var a=e[t.payload.todolistId],r=a.findIndex((function(e){return e.id===t.payload.taskId}));r>-1&&(a[r]=Object(f.a)(Object(f.a)({},a[r]),t.payload.model))}))}}),Pe=a(47),Fe=s.a.memo((function(e){var t=e.addItem,a=e.disabled,r=void 0!==a&&a,o=Object(n.useState)(""),i=Object(Pe.a)(o,2),c=i[0],u=i[1],l=Object(n.useState)(null),d=Object(Pe.a)(l,2),p=d[0],f=d[1],m=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==c.trim()?t(c,{setError:f,setTitle:u}):f("Title is required");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement(K.a,{variant:"outlined",disabled:r,error:!!p,value:c,onChange:function(e){u(e.currentTarget.value)},onKeyPress:function(e){null!==p&&f(null),13===e.charCode&&m()},label:"Title",helperText:p}),s.a.createElement(D.a,{color:"primary",onClick:m,disabled:r,style:{marginLeft:"5px"}},s.a.createElement(M.a,null)))})),We=s.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(Pe.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(e.value),c=Object(Pe.a)(i,2),u=c[0],l=c[1];return r?s.a.createElement(K.a,{value:u,onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.onChange(u)}}):s.a.createElement("span",{onDoubleClick:function(){o(!0),l(e.value)}},e.value)})),Me=a(197),Re=a(194),Ve=function(e){return e.app.error},qe=function(e){return s.a.createElement(Re.a,Object.assign({elevation:6,variant:"filled"},e))},Be=function(){var e=Object(ae.c)(Ve),t=Object(re.useActions)(ne.a).setAppError,a=function(e,a){"clickaway"!==a&&t({error:null})},r=null!==e;return s.a.createElement(Me.a,{open:r,autoHideDuration:6e3,onClose:a},s.a.createElement(qe,{onClose:a,severity:"error"},e))},He=function(e){var t=e.demo,a=void 0!==t&&t,r=Object(ae.c)((function(e){return e.todolists})),o=Object(ae.c)((function(e){return e.tasks})),i=Object(ae.c)(N),c=Object(re.useAppDispatch)(),u=Object(re.useActions)(Xe).fetchTodolistsTC,l=Object(n.useCallback)(function(){var e=Object(j.a)(h.a.mark((function e(t,a){var r,n,s,o,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe.addTodolistTC(t),e.next=3,c(r);case 3:n=e.sent,Xe.addTodolistTC.rejected.match(n)?(null===(s=n.payload)||void 0===s||null===(o=s.errors)||void 0===o?void 0:o.length)?(u=null===(i=n.payload)||void 0===i?void 0:i.errors[0],a.setError(u)):a.setError("Some error occured"):a.setTitle("");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){!a&&i&&(r.length||u())}),[]),i?s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,{container:!0,style:{padding:"20px"}},s.a.createElement(Fe,{addItem:l})),s.a.createElement(q.a,{container:!0,spacing:3,style:{flexWrap:"nowrap",overflowX:"scroll"}},r.map((function(e){var t=o[e.id];return s.a.createElement(q.a,{item:!0,key:e.id},s.a.createElement("div",{style:{width:"300px"}},s.a.createElement(Ke,{todolist:e,tasks:t,demo:a})))})))):s.a.createElement(le.a,{to:"/login"})};!function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Draft=3]="Draft"}(c||(c={})),function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.Hi=2]="Hi",e[e.Urgently=3]="Urgently",e[e.Later=4]="Later"}(u||(u={}));var Ue=s.a.memo((function(e){var t=Object(re.useActions)(Ye),a=t.updateTask,r=t.removeTask,o=Object(n.useCallback)((function(){return r({taskId:e.task.id,todolistId:e.todolistId})}),[e.task.id,e.todolistId]),i=Object(n.useCallback)((function(t){a({taskId:e.task.id,model:{status:t.currentTarget.checked?c.Completed:c.New},todolistId:e.todolistId})}),[e.task.id,e.todolistId]),u=Object(n.useCallback)((function(t){a({taskId:e.task.id,model:{title:t},todolistId:e.todolistId})}),[e.task.id,e.todolistId]);return s.a.createElement("div",{key:e.task.id,className:e.task.status===c.Completed?"is-done":"",style:{position:"relative"}},s.a.createElement(z.a,{checked:e.task.status===c.Completed,color:"primary",onChange:i}),s.a.createElement(We,{value:e.task.title,onChange:u}),s.a.createElement(D.a,{size:"small",onClick:o,style:{position:"absolute",top:"2px",right:"2px"}},s.a.createElement(F.a,{fontSize:"small"})))})),Je=a(97),Ke=s.a.memo((function(e){var t=e.demo,a=void 0!==t&&t,r=Object(Je.a)(e,["demo"]),o=Object(re.useActions)(Ye).fetchTasks,i=Object(re.useActions)(Xe),u=i.changeTodolistFilter,l=i.removeTodolistTC,d=i.changeTodolistTitleTC,p=Object(re.useAppDispatch)();Object(n.useEffect)((function(){a||r.tasks.length||o(r.todolist.id)}),[]);var f=Object(n.useCallback)(function(){var e=Object(j.a)(h.a.mark((function e(t,a){var n,s,o,i,c,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ye.addTask({title:t,todolistId:r.todolist.id}),e.next=3,p(n);case 3:s=e.sent,Ye.addTask.rejected.match(s)?(null===(o=s.payload)||void 0===o||null===(i=o.errors)||void 0===i?void 0:i.length)?(u=null===(c=s.payload)||void 0===c?void 0:c.errors[0],a.setError(u)):a.setError("Some error occured"):a.setTitle("");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[r.todolist.id]),m=Object(n.useCallback)((function(e){d({id:r.todolist.id,title:e})}),[r.todolist.id]),b=Object(n.useCallback)((function(e){return u({filter:e,id:r.todolist.id})}),[r.todolist.id]),v=r.tasks;"active"===r.todolist.filter&&(v=r.tasks.filter((function(e){return e.status===c.New}))),"completed"===r.todolist.filter&&(v=r.tasks.filter((function(e){return e.status===c.Completed})));var k=function(e,t,a){return s.a.createElement(R.a,{variant:r.todolist.filter===e?"outlined":"text",onClick:function(){return b(e)},color:t},a)};return s.a.createElement(V.a,{style:{padding:"10px",position:"relative"}},s.a.createElement(D.a,{size:"small",onClick:function(){l(r.todolist.id)},disabled:"loading"===r.todolist.entityStatus,style:{position:"absolute",right:"5px",top:"5px"}},s.a.createElement(F.a,{fontSize:"small"})),s.a.createElement("h3",null,s.a.createElement(We,{value:r.todolist.title,onChange:m})),s.a.createElement(Fe,{addItem:f,disabled:"loading"===r.todolist.entityStatus}),s.a.createElement("div",null,v.map((function(e){return s.a.createElement(Ue,{key:e.id,task:e,todolistId:r.todolist.id})})),!v.length&&s.a.createElement("div",{style:{padding:"10px",color:"grey"}},"No task")),s.a.createElement("div",{style:{paddingTop:"10px"}},k("all","default","All"),k("active","primary","Active"),k("completed","secondary","Completed")))})),Xe=Object(f.a)(Object(f.a)({},xe),Ce.actions),Ye=Object(f.a)(Object(f.a)({},ze),De.actions),$e=Ce.reducer,_e=De.reducer,Ge=Object(p.c)({app:he,auth:fe,todolists:$e,tasks:_e}),Qe=Object(d.a)({reducer:Ge,middleware:function(e){return e().prepend(l.a)}});window.store=Qe;var Ze=a(49),et=function(e){var t=Object(ae.c)(m),a=Object(ae.c)(b),o=Object(ae.c)(r.selectIsLoggedIn),i=Object(re.useActions)(pe).logout,c=Object(re.useActions)(ke).initializeApp;Object(n.useEffect)((function(){a||c()}),[]);var u=Object(n.useCallback)((function(){i()}),[]);return a?s.a.createElement("div",null,s.a.createElement(Be,null),s.a.createElement(X.a,{position:"static"},s.a.createElement(G.a,null,s.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"menu"},s.a.createElement(ee.a,null)),s.a.createElement(Q.a,{variant:"h6"},"News"),o&&s.a.createElement(R.a,{color:"inherit",onClick:u},"Log out")),"loading"===t&&s.a.createElement(_.a,null)),s.a.createElement($.a,{fixed:!0},s.a.createElement(le.b,{exact:!0,path:"/",render:function(){return s.a.createElement(He,{demo:!1})}}),s.a.createElement(le.b,{path:"/login",render:function(){return s.a.createElement(de,null)}}))):s.a.createElement("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"}},s.a.createElement(Y.a,null))};i.a.render(s.a.createElement(ae.a,{store:Qe},s.a.createElement(Ze.a,null,s.a.createElement(et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(14),n={setAppStatus:Object(r.b)("appActions/setAppStatus"),setAppError:Object(r.b)("appActions/setAppError")}},8:function(e,t,a){"use strict";var r=a(89);a.d(t,"handleAsyncServerAppError",(function(){return r.a})),a.d(t,"handleAsyncServerNetworkError",(function(){return r.b}));var n=a(90);a.d(t,"useActions",(function(){return n.a})),a.d(t,"useAppDispatch",(function(){return n.b}));a(91)},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var r=a(21),n=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a&&t.dispatch(r.a.setAppError({error:e.messages.length?e.messages[0]:"Some error occurred"})),t.dispatch(r.a.setAppStatus({status:"failed"})),t.rejectWithValue({errors:e.messages,fieldsErrors:e.fieldsErrors})},s=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a&&t.dispatch(r.a.setAppError({error:e.message?e.message:"Some error occurred"})),t.dispatch(r.a.setAppStatus({status:"failed"})),t.rejectWithValue({errors:[e.message],fieldsErrors:void 0})}},90:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var r=a(24),n=a(25),s=a(0),o=function(){return Object(r.b)()};function i(e){var t=o();return Object(s.useMemo)((function(){return Object(n.b)(e,t)}),[])}},91:function(e,t){}},[[109,1,2]]]);
//# sourceMappingURL=main.88f6a372.chunk.js.map